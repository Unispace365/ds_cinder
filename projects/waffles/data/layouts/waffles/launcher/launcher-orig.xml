<interface>

	<layout name="root_layout"
		layout_type="vert"
		size="$_launcher:content_width, $_launcher:content_height"
		layout_size="$_launcher:content_width, $_launcher:content_height"
	>
		<layout name="anim_layer"
			layout_size_mode="fill"
			center="0.5, 0.5"
			animate_on="$_animation:media_viewer_on"
			animate_off="$_animation:media_viewer_off"
			shrink_to_children="height"
		>
			<layout layout_size_mode="fill"
				overall_alignment="bottom">
				<xml name="close_button" src="%APP%/data/layouts/waffles/common/close_button.xml">
					<property name="the_button" layout_fudge="$_launcher:close:start:offset" />
				</xml>

			</layout>

			<layout name="holdy"
				layout_type="size"
				layout_size_mode="fill"
			>

				
			</layout>

			<shadow_layout name="bg_shade"
				layout_size_mode="fill"
				shadow_size="#expr{ 30 * $_waffles:sprite:scale }"
				shadow_sigma="3"
				shadow_color="black"
				shadow_opacity="0.2"
				shadow_offset="#expr{ 8.0 * $_waffles:sprite:scale }, #expr{ 8.0 * $_waffles:sprite:scale }"
				shadow_iterations="8"
				blend_mode="fbo_out"
				shadow_every_frame="true"
			>
				<sprite name="background"
					color="white"
					layout_size_mode="fill"
				/>
				
			</shadow_layout>
			
			<layout name="content_holdery"
				layout_type="vert"
				layout_size_mode="flex"
				shrink_to_children="height"
				b_pad="$_ui:corner_radius"
			>
				<layout name="content_header"
					layout_type="horiz"
					size="$_launcher:content_width, #expr{ 125 * $_waffles:sprite:scale }"
					layout_size="$_launcher:content_width, #expr{ 125 * $_waffles:sprite:scale }"
					color = "menu:title:background"
				>
					<text name="menu_title"
						size="#expr{ 111 * $_waffles:sprite:scale }, #expr{ 68 * $_waffles:sprite:scale }"
						font="waffles:menu:title"
						font_size="#expr{ 40 * $_waffles:sprite:scale }"
						color="menu:title:text"
						text_wrap="wordchar"
						text_ellipses="end"
						text="Launcher Menu"
						layout_v_align="middle"
						l_pad="#expr{ 30 * $_waffles:sprite:scale }"
					/>
					<sprite layout_size_mode="stretch" color="blue"/>
					<layout name="fixed_buttons_top"
						color="#ffff00"
						shrink_to_children="both"
						layout_type="horiz"
						overall_alignment="right"
						r_pad="0"
						_l_pad="#expr{ 60 * $_waffles:sprite:scale }"
						t_pad="#expr{ 29 * $_waffles:sprite:scale }"
						layout_spacing="#expr{ -75 * $_waffles:sprite:scale }">
					</layout>
				</layout>
				<smart_scroll_list name="content_holder"
					layout_size_mode="flex"
					height="$_launcher:scroll:height"
					scroll_fade_colors="#ffffffff, #00ffffff"
					scroll_fade_size="#expr{$_info_list:item:height}"
					smart_scroll_item_layout="waffles/common/list_item.xml"
				/>
				<layout layout_size_mode="flex"
					height="#expr{ 0 * $_waffles:sprite:scale }"
					layout_fudge="#expr{ 0 * $_waffles:sprite:scale }, #expr{ -2 * $_waffles:sprite:scale }"
				>
					<sprite layout_size_mode="flex"
						color="ui_separator"
						height="#expr{ 2 * $_waffles:sprite:scale }"
					/>
				</layout>
				<layout name="fixed_buttons_bottom"
					layout_type="vert"
					layout_size="#expr{ 294 * $_waffles:sprite:scale }, #expr{ 630 * $_waffles:sprite:scale }"
					size="#expr{ 294 * $_waffles:sprite:scale }, #expr{ 630 * $_waffles:sprite:scale }"
					layout_spacing="#expr{ 10 * $_waffles:sprite:scale }"
					t_pad="#expr{ 19 * $_waffles:sprite:scale }"
					layout_fudge="#expr{ -1 * $_waffles:sprite:scale }, #expr{ 0 * $_waffles:sprite:scale }"
				/>
				
						
				<layout name="side_panel"
					layout_type="vert"
					layout_size_mode="fill"
					width="#expr{ 350 * $_waffles:sprite:scale }"
					layout_fudge="#expr{ 352 * $_waffles:sprite:scale }, #expr{ 120 * $_waffles:sprite:scale }"
					>
					<!--
					<shadow_layout name="side_panel_shadow"
						layout_size_mode="fill"
						shadow_size="#expr{ 30 * $_waffles:sprite:scale }"
						shadow_sigma="3"
						shadow_color="black"
						shadow_opacity="0.2"
						shadow_offset="#expr{ 4.0 * $_waffles:sprite:scale }, #expr{ 4.0 * $_waffles:sprite:scale }"
						shadow_iterations="8"
						blend_mode="fbo_out"
						layout_fudge="#expr{ 0 * $_waffles:sprite:scale }, #expr{ 0 * $_waffles:sprite:scale }"
					>
						
						<sprite name="panel_bg"
							color="viewer_background"
							size="592, 750"
							corner_radius="$_ui:corner_radius"
						/>
						
					</shadow_layout>
					-->
					<layout name="panel_header"
						layout_size_mode="flex"
						overall_alignment="bottom"
						height="$_menu_title:height"
					>
						<layout layout_type="horiz"
							layout_size_mode="flex"
							shrink_to_children="height">

							<sprite name="side_panel_spacer"
								layout_size="$_info_list:item:height, $_info_list:item:height"
							/>
							
						</layout>
					</layout>
					
					<layout_button name="back_button"
						layout_type="horiz"
						size="#expr{ 120 * $_waffles:sprite:scale }, #expr{ 50 * $_waffles:sprite:scale }"
						layout_fudge="#expr{ 15 * $_waffles:sprite:scale }, #expr{ -2 * $_waffles:sprite:scale }"
					>
						
						<layout name="normal_layout"
							attach_state="normal"
							layout_size_mode="fill"
							skip_hidden_children="true"
							layout_type="horiz"
						>
							
							<image name="back_arrow"
								src="%APP%/data/images/waffles/arrows/back_arrow.png"
								size="#expr{ 18 * $_waffles:sprite:scale }, #expr{ 31 * $_waffles:sprite:scale }"
								layout_fudge="#expr{ 0 * $_waffles:sprite:scale }, #expr{ 8 * $_waffles:sprite:scale }" />
								
							<text name="back_text"
								font="viewer:body"
								font_size="#expr{ 20 * $_waffles:sprite:scale }"
								color="black"
								layout_v_align="middle"
								layout_size_mode="stretch"
								l_pad="#expr{ 10 * $_waffles:sprite:scale }"
								text="Back"
							/>
							
						</layout>

						<layout name="high_layout"
							attach_state="high"
							layout_size_mode="fill"
							skip_hidden_children="true"
							layout_type="horiz"
						>
							
							<image name="back_arrow_high"
								src="%APP%/data/images/waffles/arrows/back_arrow_high.png"
								size="#expr{ 18 * $_waffles:sprite:scale }, #expr{ 31 * $_waffles:sprite:scale }"
								layout_fudge="#expr{ 0 * $_waffles:sprite:scale }, #expr{ 8 * $_waffles:sprite:scale }"/>

							<text name="back_text_high"
								font="viewer:body"
								font_size="#expr{ 20 * $_waffles:sprite:scale }"
								color="#0096d6"
								layout_v_align="middle"
								layout_size_mode="stretch"
								l_pad="#expr{ 10 * $_waffles:sprite:scale }"
								text="Back"
							/>
							
						</layout>
					
					</layout_button>
					
					<smart_scroll_list name="side_panel_content"
						layout_size="#expr{ 608 * $_waffles:sprite:scale }, #expr{ 557 * $_waffles:sprite:scale }"
						scroll_fade_colors="#fff7f7f7, #00f7f7f7"
						smart_scroll_item_layout="waffles/common/list_item.xml"
						b_pad="$_ui:corner_radius"
						l_pad="#expr{ 20 * $_waffles:sprite:scale }"
						scroll_list_layout="#expr{ 0 * $_waffles:sprite:scale }, #expr{ 0 * $_waffles:sprite:scale }, #expr{ $_info_list:item:height + 2 * $_waffles:sprite:scale }"
					/>
						
				</layout>
			</layout>

			<layout name="ethereal_dimension"
				layout_type="none"
				layout_size_mode="fill">
				
				<sprite name="left_right_separator"
						layout_size="#expr{ 2 * $_waffles:sprite:scale }, #expr{ 650 * $_waffles:sprite:scale }"
						size="#expr{ 2 * $_waffles:sprite:scale }, #expr{ 650 * $_waffles:sprite:scale }"
						color="black"
						position="#expr{ 352 * $_waffles:sprite:scale }, #expr{ 125 * $_waffles:sprite:scale }" />
						
				<layout layout_type="vert" 
					layout_size="#expr{ 6 * $_waffles:sprite:scale }, #expr{ 554 * $_waffles:sprite:scale }"
					size="#expr{ 6 * $_waffles:sprite:scale }, #expr{ 554 * $_waffles:sprite:scale }"
					position="#expr{ 904 * $_waffles:sprite:scale }, #expr{ 203 * $_waffles:sprite:scale }"
					clipping="true"
					>
					<scroll_bar name="side_scroll_bar"
						layout_size_mode="stretch"
						scroll_bar_nub_color="scroll_bar:nub_color"
						scroll_bar_background_color="scroll_bar:background_color"
						/>
				</layout>
				
			</layout>
			<!-- <sprite layout_size_mode="stretch" /> -->

		</layout>
	</layout>


</interface>

